!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("jquery")):"function"==typeof define&&define.amd?define(["exports","jquery"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).JQueryPin={},t.$)}(this,(function(t,e){"use strict";function o(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var i=o(e),a=function(t){void 0===t&&(t={});var e=i.default(window),o=[],a=0,n=!1,s=function(){var a=e.width()||0;o.forEach((function(e){if(t.minWidth&&a<=t.minWidth)return e.parent().is(".pin-wrapper")&&e.unwrap(),e.css({width:"",left:"",top:"",position:""}),t.activeClass&&e.removeClass(t.activeClass),void(n=!0);n=!1;var o=t.containerSelector?e.closest(t.containerSelector):i.default(document.body),s={left:0,top:0},p=e.offset()||s,d=o.offset()||s,f=e.offsetParent().offset()||s;e.parent().is(".pin-wrapper")||e.wrap('<div class="pin-wrapper">');var r=i.default.extend({top:0,bottom:0},t.padding||{}),l=o.height()||0,u=e.outerHeight()||0,c=e.outerWidth()||0;e.data("pin",{pad:r,from:(t.containerSelector?d.top:p.top)-r.top,to:d.top+l-u-r.bottom,end:d.top+l,parentTop:f.top}),e.css({width:c}),e.parent().css("height",u)}))},p=function(){n||(a=e.scrollTop()||0,o=o.filter((function(t){return!!i.default(t).data("pin")})).map((function(e){var o,n=i.default(e),s=n.data("pin"),p=s.from-s.pad.bottom,d=s.to-s.pad.top;return p+(n.outerHeight()||0)>s.end?(n.css("position",""),n):(p<a&&d>a?("fixed"!==n.css("position")&&n.css({left:(null===(o=n.offset())||void 0===o?void 0:o.left)||0,top:s.pad.top}).css("position","fixed"),t.activeClass&&n.addClass(t.activeClass)):a>=d?(n.css({left:"",top:d-s.parentTop+s.pad.top}).css("position","absolute"),t.activeClass&&n.addClass(t.activeClass)):(n.css({position:"",top:"",left:""}),t.activeClass&&n.removeClass(t.activeClass)),n)})))},d=function(){s(),p()};return this.each((function(){var t=i.default(this),e=i.default(this).data("pin")||{};e&&e.update||(o.push(t),i.default("img",this).one("load",s),e.update=d,i.default(this).data("pin",e))})),e.on("scroll",p),e.on("resize",s),s(),e.on("load",d),this};i.default.fn.pin=a,t.pin=a,Object.defineProperty(t,"__esModule",{value:!0})}));
