"use strict";function t(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}Object.defineProperty(exports,"__esModule",{value:!0});var e=t(require("jquery")),o=function(t){void 0===t&&(t={});var o=e.default(window),a=[],i=0,s=!1,n=function(){var i=o.width()||0;a.forEach((function(o){if(t.minWidth&&i<=t.minWidth)return o.parent().is(".pin-wrapper")&&o.unwrap(),o.css({width:"",left:"",top:"",position:""}),t.activeClass&&o.removeClass(t.activeClass),void(s=!0);s=!1;var a=t.containerSelector?o.closest(t.containerSelector):e.default(document.body),n={left:0,top:0},p=o.offset()||n,r=a.offset()||n,d=o.offsetParent().offset()||n;o.parent().is(".pin-wrapper")||o.wrap('<div class="pin-wrapper">');var f=e.default.extend({top:0,bottom:0},t.padding||{}),l=a.height()||0,c=o.outerHeight()||0,u=o.outerWidth()||0;o.data("pin",{pad:f,from:(t.containerSelector?r.top:p.top)-f.top,to:r.top+l-c-f.bottom,end:r.top+l,parentTop:d.top}),o.css({width:u}),o.parent().css("height",c)}))},p=function(){s||(i=o.scrollTop()||0,a=a.filter((function(t){return!!e.default(t).data("pin")})).map((function(o){var a,s=e.default(o),n=s.data("pin"),p=n.from-n.pad.bottom,r=n.to-n.pad.top;return p+(s.outerHeight()||0)>n.end?(s.css("position",""),s):(p<i&&r>i?("fixed"!==s.css("position")&&s.css({left:(null===(a=s.offset())||void 0===a?void 0:a.left)||0,top:n.pad.top}).css("position","fixed"),t.activeClass&&s.addClass(t.activeClass)):i>=r?(s.css({left:"",top:r-n.parentTop+n.pad.top}).css("position","absolute"),t.activeClass&&s.addClass(t.activeClass)):(s.css({position:"",top:"",left:""}),t.activeClass&&s.removeClass(t.activeClass)),s)})))},r=function(){n(),p()};return this.each((function(){var t=e.default(this),o=e.default(this).data("pin")||{};o&&o.update||(a.push(t),e.default("img",this).one("load",n),o.update=r,e.default(this).data("pin",o))})),o.on("scroll",p),o.on("resize",n),n(),o.on("load",r),this};e.default.fn.pin=o,exports.pin=o;
